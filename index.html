<![CDATA[
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>핫 트렌드 컨텐츠 생성기</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 20px;
        }
        #search-box {
            margin: 20px auto;
            width: 60%;
        }
        input[type="text"] {
            width: 70%;
            padding: 10px;
        }
        button {
            padding: 10px 20px;
            margin-left: 10px;
        }
        #content-area {
            margin: 20px auto;
            width: 80%;
            border: 1px solid #ccc;
            padding: 20px;
            text-align: left;
        }
        #trends-box {
            margin: 20px auto;
            width: 80%;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
        }
        .trend-card {
            cursor: pointer;
            width: 200px;
            margin: 10px;
            padding: 15px;
            border: 1px solid #999;
            border-radius: 8px;
            background-color: #f9f9f9;
            text-align: center;
        }
        .trend-card:hover {
            background-color: #e0e0e0;
        }
        .trend-card h3 {
            margin: 0;
            font-size: 1.2em;
        }
        .trend-card p {
            margin: 5px 0;
            font-size: 0.9em;
            color: #666;
        }
    </style>
</head>
<body>
    <h1>핫 트렌드 컨텐츠 생성기</h1>
    <div id="search-box">
        <label for="trend-input">트렌딩 주제 검색 (예: 시니어 정책):</label>
        <input type="text" id="trend-input" placeholder="시니어 건강 or 정책">
        <button id="generate-btn">대본 생성</button>
    </div>
    <div id="content-area">
        <!-- 생성된 대본이 여기에 표시됩니다 -->
    </div>
    <div id="trends-box">
        <!-- 트렌드 박스가 여기에 로드됩니다 -->
    </div>

    <script>
        async function generateContent(topic) {
            if (topic) {
                // AI API 연결 placeholder (xAI나 OpenAI 키 넣어 사용)
                // 예: const response = await fetch('https://api.x.ai/v1/chat/completions', { method: 'POST', headers: { 'Authorization': 'Bearer YOUR_API_KEY' }, body: JSON.stringify({ model: 'grok', messages: [{ role: 'user', content: `시니어 타겟 1분 쇼츠 대본 만들어: ${topic}` }] }) });
                // const aiContent = await response.json().choices[0].message.content;
                // document.getElementById('content-area').innerHTML = aiContent;

                // 현재 템플릿 fallback (AI 연결 전)
                var content = `
                    <h2>${topic}에 대한 유튜브 쇼츠 대본 아이디어 (시니어 타겟, 1분 이내)</h2>
                    <p><strong>오프닝 (0-10초):</strong> 안녕하세요, 시니어 여러분! 오늘 핫 트렌드 "${topic}"가 복지나 건강에 미칠 영향은? 1분 요약해요.</p>
                    <p><strong>본문 (10-50초):</strong><br>
                    - 배경: ${topic}의 간단 설명과 인기 이유 (예: 정책 변화나 건강 트렌드).<br>
                    - 시니어 팁: 관련 복지 혜택이나 건강식품 (홍삼, 프로바이오틱스) 추천.<br>
                    - 데이터: 인기 통계와 조회수 증가 이유.</p>
                    <p><strong>엔딩 (50-60초):</strong> ${topic}로 더 나은 일상! 공유/구독 부탁드려요. 댓글 의견 기다려요!</p>
                    <p><strong>팁:</strong> 네 트로트 BGM 넣고, TTS로 목소리. 해시태그: #${topic} #시니어건강 #복지뉴스</p>
                `;
                document.getElementById('content-area').innerHTML = content;
            } else {
                alert('주제를 입력해주세요!');
            }
        }

        document.getElementById('generate-btn').addEventListener('click', function() {
            var topic = document.getElementById('trend-input').value.trim();
            generateContent(topic);
        });

        function setAndGenerate(topic) {
            document.getElementById('trend-input').value = topic;
            generateContent(topic);
        }

        async function loadTrends() {
            try {
                // 실시간: const response = await fetch('/.netlify/functions/get-trends');
                // const trends = await response.json();
                // fallback (최신 실시간 트렌드)
                const trends = [
                    {name: '#BOYS2PLANET', count: '87.6K tweets'},
                    {name: '#스타쉽_상시모집철회_9기모집', count: '75.6K tweets'},
                    {name: '#보이즈2플래닛', count: '69.8K tweets'},
                    {name: '#여름하늘이_하오로_물든_날', count: '60.6K tweets'},
                    {name: '#이준호솔로12주년축하해', count: '51.8K tweets'},
                    {name: '#LEEJUNHO12THDAY', count: '50.7K tweets'},
                    {name: '#25GoldenStarsForZhangHao', count: '48.1K tweets'},
                    {name: '#NCTDREAM_CHILLER', count: '37.7K tweets'},
                    {name: '#장하오', count: '34.0K tweets'},
                    {name: '#건일아_생일축하햄', count: '20.0K tweets'}
                ];
                const box = document.getElementById('trends-box');
                box.innerHTML = '<h2>현재 한국 X 핫 트렌드 (1~10위)</h2>';
                trends.forEach((trend, index) => {
                    const card = document.createElement('div');
                    card.className = 'trend-card';
                    card.innerHTML = `
                        <h3>${index + 1}. ${trend.name}</h3>
                        <p>${trend.count}</p>
                    `;
                    card.onclick = () => setAndGenerate(trend.name);
                    box.appendChild(card);
                });
            } catch (error) {
                console.error('트렌드 로드 오류:', error);
            }
        }

        window.addEventListener('load', loadTrends);
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'964b8cb1598d327d',t:'MTc1MzQ0NTM3OS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script><script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'964b8e5d3b8e327d',t:'MTc1MzQ0NTQ0Ny4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
]]>
